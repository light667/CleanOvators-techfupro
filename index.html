<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CleanOvators - Gestion et tri de D√©chets</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>
  <style>
    body {
      margin: 0;
      font-family: 'Lora', serif;
      color: #faf2f2;
      background: #000;
      overflow-x: hidden;
    }
    header {
      position: relative;
      text-align: left;
      padding: 20px;
      background: linear-gradient(to bottom, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.9)), url('https://i.pinimg.com/736x/69/aa/1d/69aa1d88b60ce3858557a7e5a7581ad2.jpg') no-repeat center center / cover;
      height: 100vh;
      width: 100%;
      max-width: 100%;
      backdrop-filter: blur(5px);
    }
    .main-title {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      background-color: rgba(0, 0, 0, 0.7);
      padding: 20px;
      border-radius: 10px;
    }
    .header-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px;
      max-width: 100%;
    }
    .logo {
      display: flex;
      align-items: center;
    }
    .logo img {
      height: 40px;
      margin-right: 10px;
    }
    .logo h1 {
      margin: 0 10px;
      font-size: 24px;
      color: #fff;
    }
    .logo span {
      color: red;
      font-size: 14px;
      padding-left: 20px;
    }
    span a {
      color: #faf2f2;
      padding-left: 300px;
      text-decoration: underline;
    }
    nav {
      display: flex;
      gap: 20px;
    }
    nav a {
      color: #fff;
      text-decoration: none;
      font-size: 16px;
      background-color: rgba(0, 0, 0, 0.7);
      padding: 10px;
      border-radius: 10px;
    }
    .main-content {
      transition: margin-left 0.5s;
      padding: 20px;
    }
    main {
      padding: 40px 20px;
      background: #fff;
      color: #000;
    }
    .poubelles-container {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
    }
    .poubelle-card {
      flex: 1;
      min-width: 250px;
      background-color: #121212;
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(58, 214, 162, 0.1);
      color: #fff;
    }
    .poubelle-card.inactive {
      opacity: 0.6;
      background-color: #222020;
    }
    footer {
      text-align: center;
      padding: 20px;
      background: #000;
      color: #fff;
    }
    .contact-section {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      background: rgba(0, 0, 0, 0.7);
      border-radius: 10px;
      color: #faf2f2;
      text-align: center;
    }
    .contact-section h2 {
      font-size: 24px;
      margin-bottom: 20px;
    }
    .contact-section p {
      font-size: 16px;
      margin-bottom: 10px;
    }
    .contact-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      max-width: 400px;
      margin: 0 auto;
    }
    .contact-form input,
    .contact-form textarea {
      padding: 10px;
      border: none;
      border-radius: 5px;
      font-family: 'Lora', serif;
    }
    .contact-form button {
      padding: 10px;
      background-color: #fff;
      color: #000;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .contact-form button:hover {
      background-color: #ddd;
    }
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <div class="logo">
        <img src="https://cdn.gamma.app/uu0zcfwvbbdn5cc/generated-images/1gaHypIYvUiDkg6v7u1KG.png" alt="CleanOvators Logo">
        <h1>CleanOvators</h1>
        <span><a href="apropos.html">About our initiatives</a></span>
      </div>
      <nav>
        <a href="admin.html">Centre de controle</a>
      </nav>
    </div>
    <div class="main-title">
      <h1>Turning Waste into Solutions - Smart Tech for a Cleaner Future</h1>
      <p>Poor waste management leads to pollution, disease, and environmental degradation. Overflowing landfills, open burning, and improper disposal contaminate air, water, and soil ‚Äî threatening public health and the planet. In many African communities, the lack of efficient waste sorting systems worsens these problems, limiting recycling opportunities and increasing health risks for people living near waste sites.</p>
    </div>
  </header>
  <main class="main-content">
    <section class="dashboard" id="dashboard">
      <h2>üóëÔ∏è √âtat des Poubelles</h2>
      <div class="poubelles-container">
        <div id="poubelleA" class="poubelle-card">
          <h3>Poubelle A (Active)</h3>
          <p>Chargement des donn√©es...</p>
        </div>
        <div class="poubelle-card inactive">
          <h3>Poubelle B (Inactive)</h3>
          <p><strong>Horodatage :</strong> --</p>
          <p><strong>Distance :</strong> --</p>
          <p><strong>Remplissage :</strong> --</p>
          <p><strong>Statut :</strong> Inactive</p>
        </div>
        <div class="poubelle-card inactive">
          <h3>Poubelle C (Inactive)</h3>
          <p><strong>Horodatage :</strong> --</p>
          <p><strong>Distance :</strong> --</p>
          <p><strong>Remplissage :</strong> --</p>
          <p><strong>Statut :</strong> Inactive</p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="contact-section">
      <h2>Contactez-nous</h2>
      <p>Email : <a href="mailto:nethaniahdjossou@gmail.com">nethaniahdjossou@gmail.com</a></p>
      <p>T√©l√©phone : <a href="tel:+22870703111">+228 70703111</a></p>
      <p>WhatsApp : <a href="https://wa.link/hrpp65">Service client</a></p>
      <form class="contact-form" onsubmit="sendEmail(event)">
        <input type="email" placeholder="Votre email" required>
        <textarea placeholder="Votre message" required></textarea>
        <button type="submit">Envoyer</button>
      </form>
    </div>
    <p>¬© 2025 | CleanOvators - Gestion et Tri de d√©chets</p>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      Papa.parse('https://docs.google.com/spreadsheets/d/e/2PACX-1vQgmSKQ1_GhPryIvCFtL6qO7YNy26RY5XY76nQo44i3YMplAssikjoJ6EnEOOuV9OC2trobP0kY8zpB/pub?gid=0&single=true&output=csv', {
        download: true,
        header: true,
        complete: function(results) {
          const data = results.data;
          const lastEntry = data[data.length - 1];
          const container = document.getElementById("poubelleA");

          if (lastEntry) {
            container.innerHTML = `
              <h3>Poubelle A (Active)</h3>
              <p><strong>Horodatage :</strong> ${lastEntry.time}</p>
              <p><strong>Distance :</strong> ${lastEntry.Distance} cm</p>
              <p><strong>Remplissage :</strong> ${lastEntry.Pourcentage}%</p>
              <p><strong>Statut :</strong> ${lastEntry.Statut}</p>
            `;
          } else {
            container.innerHTML = `
              <h3>Poubelle A (Active)</h3>
              <p>Aucune donn√©e disponible.</p>
            `;
          }
        }
      });
    });

    function sendEmail(event) {
      event.preventDefault();
      const email = document.querySelector('.contact-form input').value;
      const message = document.querySelector('.contact-form textarea').value;
      const subject = `Contact from ${email}`;
      const body = `Message: ${message}\n\nEnvoy√© par: ${email}`;

      // Simulation d'envoi d'email (ouvre le client email par d√©faut)
      window.location.href = `mailto:nethaniahdjossou@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;

      // R√©initialisation du formulaire
      document.querySelector('.contact-form').reset();
      alert('Message envoy√© ! (V√©rifiez votre client email pour confirmer)');
    }
  </script>
</body>
</html>